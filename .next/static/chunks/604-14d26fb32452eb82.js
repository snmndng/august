"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[604],{512:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(5105).A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},1165:(e,t,r)=>{r.d(t,{_:()=>d,e:()=>n});var a=r(5155),i=r(2115);let o={items:[],totalItems:0,totalPrice:0,isOpen:!1};function s(e){return"string"==typeof e?parseFloat(e):"number"==typeof e?e:e&&"object"==typeof e&&"toNumber"in e?e.toNumber():0}function l(e,t){switch(t.type){case"ADD_ITEM":{let r,{product:a,quantity:i}=t.payload,o=e.items.findIndex(e=>e.product.id===a.id);if(o>=0)r=e.items.map((e,t)=>t===o?{...e,quantity:e.quantity+i}:e);else{let t={id:"".concat(a.id,"-").concat(Date.now()),product:a,quantity:i,addedAt:new Date};r=[...e.items,t]}let l=r.reduce((e,t)=>e+t.quantity,0),c=r.reduce((e,t)=>e+s(t.product.price)*t.quantity,0);return{...e,items:r,totalItems:l,totalPrice:c}}case"REMOVE_ITEM":{let{productId:r}=t.payload,a=e.items.filter(e=>e.product.id!==r),i=a.reduce((e,t)=>e+t.quantity,0),o=a.reduce((e,t)=>e+s(t.product.price)*t.quantity,0);return{...e,items:a,totalItems:i,totalPrice:o}}case"UPDATE_QUANTITY":{let{productId:r,quantity:a}=t.payload,i=e.items.map(e=>e.product.id===r?{...e,quantity:Math.max(0,a)}:e).filter(e=>e.quantity>0),o=i.reduce((e,t)=>e+t.quantity,0),l=i.reduce((e,t)=>e+s(t.product.price)*t.quantity,0);return{...e,items:i,totalItems:o,totalPrice:l}}case"CLEAR_CART":return{...e,items:[],totalItems:0,totalPrice:0};case"TOGGLE_CART":return{...e,isOpen:!e.isOpen};case"CLOSE_CART":return{...e,isOpen:!1};case"LOAD_CART":let r=t.payload,a=r.reduce((e,t)=>e+t.quantity,0),i=r.reduce((e,t)=>e+s(t.product.price)*t.quantity,0);return{...e,items:r,totalItems:a,totalPrice:i};default:return e}}let c=(0,i.createContext)(void 0);function n(e){let{children:t}=e,[r,s]=(0,i.useReducer)(l,o);return(0,i.useEffect)(()=>{try{let e=localStorage.getItem("luxiormall-cart");if(e){let t=JSON.parse(e).map(e=>({...e,addedAt:new Date(e.addedAt)}));s({type:"LOAD_CART",payload:t})}}catch(e){console.error("Error loading cart from localStorage:",e)}},[]),(0,i.useEffect)(()=>{try{localStorage.setItem("luxiormall-cart",JSON.stringify(r.items))}catch(e){console.error("Error saving cart to localStorage:",e)}},[r.items]),(0,a.jsx)(c.Provider,{value:{state:r,addItem:(e,t)=>{s({type:"ADD_ITEM",payload:{product:e,quantity:t}})},removeItem:e=>{s({type:"REMOVE_ITEM",payload:{productId:e}})},updateQuantity:(e,t)=>{s({type:"UPDATE_QUANTITY",payload:{productId:e,quantity:t}})},clearCart:()=>{s({type:"CLEAR_CART"})},toggleCart:()=>{s({type:"TOGGLE_CART"})},closeCart:()=>{s({type:"CLOSE_CART"})},getItemQuantity:e=>{let t=r.items.find(t=>t.product.id===e);return t?t.quantity:0}},children:t})}function d(){let e=(0,i.useContext)(c);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},3457:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(5105).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},5105:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(2115),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(e,t)=>{let r=(0,a.forwardRef)((r,o)=>{let{color:s="currentColor",size:l=24,strokeWidth:c=2,absoluteStrokeWidth:n,className:d="",children:u,...m}=r;return(0,a.createElement)("svg",{ref:o,...i,width:l,height:l,stroke:s,strokeWidth:n?24*Number(c)/Number(l):c,className:["lucide","lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()),d].join(" "),...m},[...t.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])});return r.displayName="".concat(e),r}},5604:(e,t,r)=>{r.d(t,{A:()=>u});var a=r(5155),i=r(2115),o=r(2619),s=r.n(o),l=r(3457),c=r(7828),n=r(512),d=r(1165);function u(e){let{product:t}=e,{addItem:r}=(0,d._)(),[o,u]=(0,i.useState)(!1),[m,p]=(0,i.useState)(!1),x=e=>{let t;return t="string"==typeof e?parseFloat(e):"number"==typeof e?e:e&&"object"==typeof e&&"toNumber"in e?e.toNumber():0,new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0}).format(t)},y=async()=>{p(!0);try{r(t,1),await new Promise(e=>setTimeout(e,500))}catch(e){console.error("Error adding to cart:",e)}finally{p(!1)}};return(0,a.jsxs)("div",{className:"bg-background text-foreground rounded-lg shadow-soft hover:shadow-medium transition-shadow duration-300 group dark:bg-luxior-black dark:text-luxior-white",children:[(0,a.jsxs)("div",{className:"relative aspect-square overflow-hidden rounded-t-lg",children:[t.images&&t.images.length>0&&t.images[0]?(0,a.jsx)("img",{src:t.images[0].imageUrl,alt:t.images[0].altText||t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):(0,a.jsx)("div",{className:"absolute inset-0 bg-luxior-accent flex items-center justify-center dark:bg-luxior-black",children:(0,a.jsx)("span",{className:"text-gray-400 text-sm dark:text-gray-500",children:"No Image"})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>{u(!o)},className:"p-2 rounded-full transition-colors ".concat(o?"bg-luxior-error text-white":"bg-background text-foreground hover:bg-luxior-accent dark:bg-luxior-black dark:text-luxior-white dark:hover:bg-luxior-accent"),title:o?"Remove from wishlist":"Add to wishlist",children:(0,a.jsx)(l.A,{size:18,fill:o?"currentColor":"none"})}),(0,a.jsx)(s(),{href:"/products/".concat(t.slug),className:"p-2 rounded-full bg-background text-foreground hover:bg-luxior-accent transition-colors dark:bg-luxior-black dark:text-luxior-white dark:hover:bg-luxior-accent",title:"View product",children:(0,a.jsx)(c.A,{size:18})})]})}),(0,a.jsxs)("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[t.isFeatured&&(0,a.jsx)("span",{className:"px-2 py-1 bg-luxior-info text-white text-xs rounded-full",children:"Featured"}),t.isBestseller&&(0,a.jsx)("span",{className:"px-2 py-1 bg-luxior-orange text-white text-xs rounded-full",children:"Best Seller"})]})]}),(0,a.jsxs)("div",{className:"p-4",children:[t.category&&(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2 dark:text-gray-400",children:t.category.name}),(0,a.jsx)(s(),{href:"/products/".concat(t.slug),children:(0,a.jsx)("h3",{className:"font-semibold mb-2 hover:text-luxior-deep-orange transition-colors line-clamp-2",children:t.name})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)("span",{className:"text-xl font-bold",children:x(t.price)}),t.comparePrice&&t.comparePrice>t.price&&(0,a.jsx)("span",{className:"text-sm text-gray-500 line-through dark:text-gray-400",children:x(t.comparePrice)})]}),(0,a.jsx)("div",{className:"mb-4",children:t.stockQuantity>0?(0,a.jsxs)("span",{className:"text-sm text-luxior-success",children:["In Stock (",t.stockQuantity," available)"]}):(0,a.jsx)("span",{className:"text-sm text-luxior-error",children:"Out of Stock"})}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsx)("button",{onClick:y,disabled:0===t.stockQuantity||m,className:"btn-primary flex-1 flex items-center justify-center gap-2 py-2 text-lg ".concat(0===t.stockQuantity?"opacity-50 cursor-not-allowed":""),children:m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Adding..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.A,{size:16}),"Add to Cart"]})})})]})]})}},7828:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(5105).A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])}}]);