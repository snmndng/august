(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[221],{3018:(e,r,t)=>{"use strict";t.d(r,{RelatedProducts:()=>l});var s=t(5155),a=t(2115),i=t(5604),c=t(5876);function l(e){let{currentProductId:r,categoryId:t}=e,[l,n]=(0,a.useState)([]),[o,d]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(async()=>{try{if(d(!0),t){let e=await fetch("/api/products?categoryId=".concat(t,"&limit=4")),s=(await e.json()).products.filter(e=>e.id!==r);n(s.slice(0,4))}else{let e=await fetch("/api/products?featured=true&limit=4"),t=(await e.json()).products.filter(e=>e.id!==r);n(t.slice(0,4))}}catch(e){console.error("Error fetching related products:",e),n([])}finally{d(!1)}})()},[r,t]),o)?(0,s.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,s.jsx)(c.LoadingSpinner,{})}):0===l.length?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-gray-600 text-lg",children:"No related products found"})}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(e=>(0,s.jsx)(i.A,{product:e},e.id))})}},3983:(e,r,t)=>{"use strict";t.d(r,{ProductDetail:()=>h});var s=t(5155),a=t(2115),i=t(512),c=t(3457),l=t(5105);let n=(0,l.A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var o=t(5937),d=t(6398),x=t(7910);let m=(0,l.A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var u=t(1165);function h(e){let{product:r}=e,{addItem:t}=(0,u._)(),[l,h]=(0,a.useState)(0),[p,g]=(0,a.useState)(1),[y,j]=(0,a.useState)(!1),[b,f]=(0,a.useState)(!1),N=e=>"string"==typeof e?parseFloat(e):"number"==typeof e?e:e&&"object"==typeof e&&"toNumber"in e?e.toNumber():0,v=e=>e&&"object"==typeof e&&"toNumber"in e?e.toNumber():e,k=e=>{let r;return r="string"==typeof e?parseFloat(e):"number"==typeof e?e:e&&"object"==typeof e&&"toNumber"in e?e.toNumber():0,new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0}).format(r)},w=async()=>{if(0!==r.stockQuantity){f(!0);try{t(r,p),await new Promise(e=>setTimeout(e,500))}catch(e){console.error("Error adding to cart:",e)}finally{f(!1)}}};return(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 bg-background text-foreground dark:bg-luxior-black dark:text-luxior-white",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"aspect-square bg-gray-200 rounded-lg overflow-hidden",children:(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,s.jsxs)("span",{className:"text-gray-400 text-lg dark:text-gray-500",children:["Product Image ",l+1]})})}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["/product-placeholder-1.jpg","/product-placeholder-2.jpg","/product-placeholder-3.jpg","/product-placeholder-4.jpg"].map((e,r)=>(0,s.jsx)("button",{onClick:()=>h(r),className:"aspect-square bg-luxior-accent rounded-lg overflow-hidden border-2 transition-colors dark:bg-luxior-black ".concat(l===r?"border-luxior-info":"border-transparent"),children:(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,s.jsxs)("span",{className:"text-gray-400 text-xs dark:text-gray-500",children:["Thumb ",r+1]})})},r))})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-2",children:r.name}),(0,s.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:r.shortDescription})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("span",{className:"text-3xl font-bold",children:k(r.price)}),r.comparePrice&&r.comparePrice>r.price&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-xl text-gray-500 line-through dark:text-gray-400",children:k(r.comparePrice)}),(0,s.jsxs)("span",{className:"px-2 py-1 bg-luxior-error/10 text-luxior-error text-sm font-medium rounded",children:[Math.round((N(r.comparePrice)-N(r.price))/N(r.comparePrice)*100),"% OFF"]})]})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:r.stockQuantity>0?(0,s.jsxs)("span",{className:"text-luxior-success font-medium",children:["✓ In Stock (",r.stockQuantity," available)"]}):(0,s.jsx)("span",{className:"text-luxior-error font-medium",children:"✗ Out of Stock"})}),r.stockQuantity>0&&(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("label",{className:"font-medium",children:"Quantity:"}),(0,s.jsxs)("div",{className:"flex items-center border border-border rounded-lg",children:[(0,s.jsx)("button",{onClick:()=>g(Math.max(1,p-1)),className:"px-3 py-2 text-foreground hover:bg-luxior-accent dark:hover:bg-luxior-black",disabled:p<=1,children:"-"}),(0,s.jsx)("span",{className:"px-4 py-2 border-x border-border",children:p}),(0,s.jsx)("button",{onClick:()=>g(Math.min(r.stockQuantity,p+1)),className:"px-3 py-2 text-foreground hover:bg-luxior-accent dark:hover:bg-luxior-black",disabled:p>=r.stockQuantity,children:"+"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.stockQuantity>0?(0,s.jsx)("button",{onClick:w,disabled:b,className:"btn-primary flex-1 flex items-center justify-center gap-2 py-3 text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:b?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Adding..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.A,{size:20}),"Add to Cart"]})}):(0,s.jsx)("button",{className:"btn-secondary flex-1 py-3 text-lg opacity-50 cursor-not-allowed",children:"Out of Stock"}),(0,s.jsx)("button",{onClick:()=>{j(!y)},className:"p-3 rounded-lg border transition-colors ".concat(y?"border-luxior-error text-luxior-error bg-luxior-error/10":"border-border text-foreground hover:border-luxior-error hover:text-luxior-error"),title:y?"Remove from wishlist":"Add to wishlist",children:(0,s.jsx)(c.A,{size:20,fill:y?"currentColor":"none"})}),(0,s.jsx)("button",{onClick:()=>{navigator.share?navigator.share({title:r.name,text:r.shortDescription||r.description||"Check out ".concat(r.name," at LuxiorMall"),url:window.location.href}):navigator.clipboard.writeText(window.location.href)},className:"p-3 rounded-lg border border-border text-foreground hover:border-luxior-info hover:text-luxior-info transition-colors",title:"Share product",children:(0,s.jsx)(n,{size:20})})]}),(0,s.jsxs)("button",{onClick:()=>{let e="Hi! I'm interested in ".concat(r.name," (").concat(window.location.href,")"),t="https://wa.me/254700000000?text=".concat(encodeURIComponent(e));window.open(t,"_blank")},className:"btn-primary w-full flex items-center justify-center gap-2 py-3 text-lg",children:[(0,s.jsx)(o.A,{size:20}),"Contact via WhatsApp"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 pt-6 border-t border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-luxior-info",children:[(0,s.jsx)(d.A,{size:16}),(0,s.jsx)("span",{children:"Free Delivery"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-luxior-success",children:[(0,s.jsx)(x.A,{size:16}),(0,s.jsx)("span",{children:"Secure Payment"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-luxior-warning",children:[(0,s.jsx)(m,{size:16}),(0,s.jsx)("span",{children:"Easy Returns"})]})]}),r.description&&(0,s.jsxs)("div",{className:"pt-6 border-t border-border",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Description"}),(0,s.jsx)("div",{className:"prose prose-gray max-w-none",children:(0,s.jsx)("p",{className:"text-gray-600 leading-relaxed dark:text-gray-400",children:r.description})})]}),(0,s.jsxs)("div",{className:"pt-6 border-t border-gray-200",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Product Details"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"SKU:"}),(0,s.jsx)("span",{className:"ml-2 text-gray-900",children:r.sku||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Category:"}),(0,s.jsxs)("span",{className:"ml-2 text-gray-900",children:["Category ID: ",r.categoryId]})]}),r.weightKg&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Weight:"}),(0,s.jsxs)("span",{className:"ml-2 text-gray-900",children:[v(r.weightKg)," kg"]})]}),r.dimensionsCm&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Dimensions:"}),(0,s.jsx)("span",{className:"ml-2 text-gray-900",children:v(r.dimensionsCm)})]})]})]})]})]})}},5876:(e,r,t)=>{"use strict";t.d(r,{LoadingSpinner:()=>i});var s=t(5155);let a=(0,t(5105).A)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function i(e){let{size:r="md",className:t=""}=e;return(0,s.jsx)("div",{className:"flex justify-center items-center ".concat(t),children:(0,s.jsx)(a,{className:"animate-spin text-luxior-deep-orange ".concat({sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"}[r])})})}},5937:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(5105).A)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},6218:(e,r,t)=>{Promise.resolve().then(t.bind(t,5876)),Promise.resolve().then(t.bind(t,3983)),Promise.resolve().then(t.bind(t,3018))},6398:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(5105).A)("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]])},7910:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(5105).A)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])}},e=>{e.O(0,[619,604,441,255,358],()=>e(e.s=6218)),_N_E=e.O()}]);